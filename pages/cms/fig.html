<!doctype HTML>
<meta charset = 'utf-8'>
<html>
  <head>
    <link rel='stylesheet' href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    
    <script src='../../js/polychart2.standalone.js' type='text/javascript'></script>
    
     <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
     <script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    
    <style>
    .rChart {
      display: block
      margin: auto auto;
      width: 100%;
      height: 400px;
    }
    .bs-docs-example:after {
      content: "";
      background: transparent;
      border: none;
    }
    </style>
    
  </head>
  <body ng-app>
      
    <div class='container' ng-controller="DemoCtrl" ng-init="drawChart()">
  <div class='row'>
    <div class='col-md-3'>
      <form class='well'>
        <label><b>Select  x :</b></label>
    		<select class='form-control' ng-model="opts.x.var" 
          ng-options="ctl for ctl in controls.x.values">   
    		</select><br>
        <label><b>Select  y :</b></label>
    		<select class='form-control' ng-model="opts.y.var" 
          ng-options="ctl for ctl in controls.y.values">   
    		</select><br>
        <label><b>Select  size :</b></label>
    		<select class='form-control' ng-model="opts.size.var" 
          ng-options="ctl for ctl in controls.size.values">   
    		</select><br>
      </form>
    </div>
    <div class='col-md-9'>
      <div class="bs-docs-example">
        <div id='chart77fc56fec34' class='rChart '>
          <svg></svg>
        </div>
      </div>
    </div>
  </div>
</div>
<script type='text/javascript'>
function DemoCtrl($scope){
  $scope.chartParams = {
 "dom": "chart77fc56fec34",
"width":    800,
"height":    400,
"layers": [
 {
 "x": "Claims",
"y": "Cost",
"data": {
 "Drug": [ "LEVOTHYROXINE SODIUM", "LISINOPRIL", "SIMVASTATIN", "AMLODIPINE BESYLATE", "HYDROCODONE/ACETAMINOPHEN", "OMEPRAZOLE", "ATORVASTATIN CALCIUM", "FUROSEMIDE", "METFORMIN HCL", "METOPROLOL TARTRATE", "GABAPENTIN", "HYDROCHLOROTHIAZIDE", "POTASSIUM CHLORIDE", "WARFARIN SODIUM", "METOPROLOL SUCCINATE", "LOSARTAN POTASSIUM", "CLOPIDOGREL BISULFATE", "PRAVASTATIN SODIUM", "ATENOLOL", "CARVEDILOL", "TRAMADOL HCL", "ALPRAZOLAM", "ZOLPIDEM TARTRATE", "TAMSULOSIN HCL", "SERTRALINE HCL", "CITALOPRAM HYDROBROMIDE", "ALBUTEROL SULFATE", "PREDNISONE", "LORAZEPAM", "PANTOPRAZOLE SODIUM", "FLUTICASONE PROPIONATE", "ROSUVASTATIN CALCIUM", "TRAZODONE HCL", "CLONAZEPAM", "DONEPEZIL HCL", "OXYCODONE HCL/ACETAMINOPHEN", "ALENDRONATE SODIUM", "ESOMEPRAZOLE MAGNESIUM", "GLIPIZIDE", "INSULIN GLARGINE,HUM.REC.ANLOG", "MELOXICAM", "ALLOPURINOL", "LISINOPRIL/HYDROCHLOROTHIAZIDE", "RANITIDINE HCL", "QUETIAPINE FUMARATE", "MEMANTINE HCL", "OXYCODONE HCL", "DULOXETINE HCL", "AZITHROMYCIN", "FLUTICASONE/SALMETEROL", "DILTIAZEM HCL", "MONTELUKAST SODIUM", "LOVASTATIN", "VALSARTAN", "ESCITALOPRAM OXALATE", "CIPROFLOXACIN HCL", "ISOSORBIDE MONONITRATE", "LATANOPROST", "FLUOXETINE HCL", "GLIMEPIRIDE", "TIOTROPIUM BROMIDE", "LOSARTAN/HYDROCHLOROTHIAZIDE", "MIRTAZAPINE", "RISPERIDONE", "DIGOXIN", "ENALAPRIL MALEATE", "AMOXICILLIN", "CLONIDINE HCL", "SPIRONOLACTONE", "TRIAMTERENE/HYDROCHLOROTHIAZID", "PAROXETINE HCL", "BUPROPION HCL", "DIVALPROEX SODIUM", "VENLAFAXINE HCL", "IBUPROFEN", "SITAGLIPTIN PHOSPHATE", "OXYBUTYNIN CHLORIDE", "FINASTERIDE", "AMITRIPTYLINE HCL", "CYCLOBENZAPRINE HCL", "PREGABALIN", "SULFAMETHOXAZOLE/TRIMETHOPRIM", "DICLOFENAC SODIUM", "FAMOTIDINE", "MORPHINE SULFATE", "CEPHALEXIN", "EZETIMIBE", "DIAZEPAM", "LEVOFLOXACIN", "HYDRALAZINE HCL", "BENAZEPRIL HCL", "CELECOXIB", "VALSARTAN/HYDROCHLOROTHIAZIDE", "NIFEDIPINE", "POLYETHYLENE GLYCOL 3350", "TRIAMCINOLONE ACETONIDE", "FENTANYL", "LEVETIRACETAM", "OLANZAPINE", "TEMAZEPAM", "NEEDLES, INSULIN DISPOSABLE", "NAPROXEN", "LAMOTRIGINE", "DOXAZOSIN MESYLATE", "CARBIDOPA/LEVODOPA", "RAMIPRIL", "ARIPIPRAZOLE", "AMLODIPINE BESYLATE/BENAZEPRIL", "INSULIN ASPART", "VERAPAMIL HCL", "BACLOFEN", "ROPINIROLE HCL", "PREDNISOLONE ACETATE", "PROPRANOLOL HCL", "TIZANIDINE HCL", "ESTRADIOL", "BENZTROPINE MESYLATE", "PIOGLITAZONE HCL", "NITROGLYCERIN", "AMOXICILLIN/POTASSIUM CLAV", "TIMOLOL MALEATE", "BUSPIRONE HCL", "TOPIRAMATE", "FENOFIBRATE", "BUDESONIDE/FORMOTEROL FUMARATE", "GLYBURIDE", "METHYLPREDNISOLONE", "TERAZOSIN HCL", "DOXYCYCLINE HYCLATE", "BIMATOPROST", "NEBIVOLOL HCL", "METHOTREXATE SODIUM", "INSULIN DETEMIR", "ACETAMINOPHEN WITH CODEINE", "BRIMONIDINE TARTRATE", "FENOFIBRATE NANOCRYSTALLIZED", "LIDOCAINE", "SOLIFENACIN SUCCINATE", "AMIODARONE HCL", "TRAVOPROST", "GEMFIBROZIL", "MECLIZINE HCL", "OMEGA-3 ACID ETHYL ESTERS", "IPRATROPIUM/ALBUTEROL SULFATE", "ESTROGENS, CONJUGATED", "CARISOPRODOL", "LANSOPRAZOLE", "PHENYTOIN SODIUM EXTENDED", "NYSTATIN", "INSULIN LISPRO", "LACTULOSE", "PROMETHAZINE HCL", "DORZOLAMIDE HCL/TIMOLOL MALEAT", "RALOXIFENE HCL", "CARBAMAZEPINE", "OLMESARTAN MEDOXOMIL", "HYDROXYCHLOROQUINE SULFATE", "RIVAROXABAN", "FLUCONAZOLE", "MOMETASONE FUROATE", "DUTASTERIDE", "CLOBETASOL PROPIONATE", "QUINAPRIL HCL", "METHADONE HCL", "DEXLANSOPRAZOLE", "METOCLOPRAMIDE HCL", "MUPIROCIN", "DABIGATRAN ETEXILATE MESYLATE", "KETOCONAZOLE", "PRAMIPEXOLE DI-HCL", "RIVASTIGMINE", "CLOZAPINE", "CYCLOSPORINE", "LITHIUM CARBONATE", "BUMETANIDE", "NIACIN", "SYRING W-NDL,DISP,INSUL,0.5ML", "HYDROXYZINE HCL", "CLOTRIMAZOLE/BETAMETHASONE DIP", "SUCRALFATE", "HUM INSULIN NPH/REG INSULIN HM", "HALOPERIDOL", "ZOSTER VACCINE LIVE/PF", "ANASTROZOLE", "CHLORTHALIDONE", "TOLTERODINE TARTRATE", "NITROFURANTOIN MONOHYD/M-CRYST", "IRBESARTAN", "BRIMONIDINE TARTRATE/TIMOLOL", "LABETALOL HCL", "COLCHICINE", "FENOFIBRATE,MICRONIZED", "SOTALOL HCL", "NORTRIPTYLINE HCL", "SITAGLIPTIN PHOS/METFORMIN HCL", "TORSEMIDE", "ZIPRASIDONE HCL", "EZETIMIBE/SIMVASTATIN", "OLOPATADINE HCL", "DICYCLOMINE HCL" ],
"Cost": [ 5.5951e+08, 3.0244e+08, 4.291e+08, 3.4014e+08, 5.594e+08, 6.295e+08, 9.2381e+08, 1.4154e+08, 3.2281e+08, 1.5729e+08, 5.2229e+08, 1.0792e+08, 5.1059e+08, 2.1842e+08, 7.1454e+08, 3.0236e+08, 6.5547e+08, 2.6119e+08, 1.0146e+08, 1.5534e+08, 1.3788e+08, 9.0475e+07, 1.1891e+08, 2.5899e+08, 1.325e+08, 9.2424e+07, 5.0954e+08, 5.1523e+07, 8.3517e+07, 1.768e+08, 3.7663e+08, 2.0892e+09, 7.1469e+07, 6.9967e+07, 2.6172e+08, 2.577e+08, 9.4507e+07, 2.3203e+09, 1.0273e+08, 2.3716e+09, 6.079e+07, 5.8052e+07, 7.662e+07, 8.5481e+07, 9.6472e+08, 1.4801e+09, 1.0422e+09, 1.7791e+09, 8.3103e+07, 2.1352e+09, 2.5776e+08, 2.7503e+08, 9.4387e+07, 1.1231e+09, 2.8814e+08, 4.1349e+07, 1.0312e+08, 1.2062e+08, 8.5747e+07, 5.6679e+07, 1.7788e+09, 1.1584e+08, 7.8223e+07, 1.368e+08, 5.0441e+07, 4.5943e+07, 2.4759e+07, 4.2006e+07, 6.096e+07, 5.5225e+07, 8.7401e+07, 1.7765e+08, 2.8815e+08, 1.7818e+08, 2.9305e+07, 1.309e+09, 1.7476e+08, 1.1734e+08, 2.1806e+07, 4.2514e+07, 9.1468e+08, 2.3854e+07, 2.0672e+08, 4.1761e+07, 2.2457e+08, 2.6527e+07, 7.7415e+08, 2.6367e+07, 4.6379e+07, 8.0752e+07, 3.3864e+07, 7.9705e+08, 3.3375e+08, 1.4305e+08, 7.9679e+07, 6.2823e+07, 4.3323e+08, 1.9553e+08, 4.7907e+08, 3.6496e+07, 1.1318e+08, 2.4327e+07, 1.3352e+08, 4.512e+07, 1.1702e+08, 6.2542e+07, 1.8911e+09, 1.737e+08, 8.0965e+08, 6.5567e+07, 3.1724e+07, 9.6901e+07, 5.6459e+07, 5.6847e+07, 6.7162e+07, 1.1545e+08, 1.9642e+07, 3.0349e+08, 4.7588e+07, 4.8953e+07, 5.0716e+07, 4.4161e+07, 8.5238e+07, 1.3663e+08, 5.5569e+08, 4.9938e+07, 4.9135e+07, 2.4408e+07, 1.4134e+08, 3.0655e+08, 2.0347e+08, 1.2408e+08, 6.2551e+08, 2.5295e+07, 1.875e+08, 2.8484e+08, 5.8882e+08, 4.4798e+08, 3.6867e+07, 2.6093e+08, 4.3737e+07, 3.2885e+07, 3.6503e+08, 2.9952e+08, 2.3403e+08, 2.8484e+07, 1.4147e+08, 4.4172e+07, 5.4602e+07, 5.0258e+08, 2.944e+07, 1.977e+07, 6.1275e+07, 3.7053e+08, 7.3567e+07, 2.412e+08, 3.0781e+07, 4.1091e+08, 1.5931e+07, 1.9244e+08, 2.4229e+08, 5.1677e+07, 2.7931e+07, 2.1913e+07, 2.3884e+08, 1.1291e+07, 1.9307e+07, 4.0742e+08, 2.6173e+07, 5.5933e+07, 3.9597e+08, 1.4917e+08, 4.0762e+08, 1.7095e+07, 1.4114e+07, 2.801e+08, 2.7612e+07, 2.2323e+07, 5.891e+07, 6.3638e+07, 2.1191e+08, 2.4611e+07, 1.8695e+08, 3.8477e+07, 1.869e+07, 2.141e+08, 4.431e+07, 5.5673e+07, 1.2705e+08, 4.4229e+07, 1.9201e+08, 7.5842e+07, 2.279e+07, 1.2363e+07, 2.9299e+08, 2.025e+07, 2.1032e+08, 2.2119e+08, 1.3093e+08, 8.092e+06 ],
"Beneficiaries": [ 7408339, 8096692, 7810499, 7048423, 10844363, 6902028, 5689020, 5609265, 4953388, 4147614, 3955669, 3744396, 2825640, 2602108, 3044710, 2974417, 2639839, 2733179, 2478299, 2326239, 3694917, 2331417, 2021864, 1995734, 1551240, 1667015, 2882817, 4121002, 1823431, 1700527, 3186695, 1405895, 1467043, 1184291, 1068776, 2341694, 1198951, 1060846, 867163, 951061, 1956431, 1062474, 1226426, 1159093, 756092, 597593, 1134508, 637087, 4835918, 1093011, 345255, 861072, 924502, 629158, 684596, 4316609, 791098, 1080471, 622084, 798654, 775823, 684632, 647248, 536286, 478061, 552700, 3230564, 570379, 562309, 532313, 366878, 340662, 371127, 255838, 1391097, 410522, 384958, 600358, 343621, 909989, 375573, 2182499, 1020683, 500187, 479622, 2405003, 318625, 483911, 2384041, 428693, 332846, 413755, 281448, 264475, 661934, 1326366, 314742, 258086, 235970, 400165, 509388, 785613, 269332, 279720, 305624, 272044, 283311, 201476, 327203, 100821, 356919, 168682, 1394015, 91520, 474890, 269298, 287612, 172984, 887364, 1642841, 480823, 206561, 202213, 216201, 325786, 179831, 1536097, 176963, 1105214, 407337, 170104, 332250, 158563, 594043, 360455, 90490, 380839, 198824, 250334, 350079, 134114, 455790, 152949, 269110, 204162, 188198, 92358, 44379, 452093, 198097, 184232, 438803, 328076, 84346, 41967, 80818, 252354, 208432, 570156, 331815, 135947, 601659, 71954, 134547, 126676, 208405, 705138, 99133, 470825, 70156, 121297, 35703, 350875, 97276, 121015, 81544, 121067, 161721, 432716, 168222, 45813, 89607, 1001648, 171403, 115282, 17188, 510555, 67740, 172162, 51646, 102314, 73897, 94338, 101514, 57532, 113708, 61784, 36494, 189036, 162452 ],
"Claims": [ 40040908, 36213182, 36185092, 33951483, 33521291, 31500544, 26205342, 25707232, 25065694, 20368244, 18720514, 17456861, 17310975, 17294245, 16454603, 15258501, 14813982, 13489543, 13415626, 12548020, 12283472, 11955014, 11163599, 10572984, 10495176, 10444306, 9626270, 9143363, 9033825, 9033193, 8911077, 8602219, 8577320, 8382221, 8032628, 7723401, 7627074, 7622616, 7582410, 7520113, 7170080, 7123625, 7046625, 6974816, 6902996, 6673810, 6417923, 6371000, 6251733, 6241675, 6106471, 6006471, 5994849, 5964371, 5887097, 5794618, 5740969, 5608505, 5561104, 5242476, 5237141, 5093152, 4907459, 4703637, 4574255, 4521898, 4492560, 4413195, 4395728, 4387951, 4315457, 4301631, 4237415, 4150313, 4101187, 3983386, 3961038, 3934452, 3720194, 3622148, 3573985, 3505340, 3496442, 3467839, 3448155, 3407105, 3309876, 3258469, 3197339, 3174587, 3139786, 3103252, 3096935, 3088224, 3085597, 2792937, 2783412, 2783366, 2779192, 2770242, 2764163, 2763843, 2756286, 2732030, 2704544, 2696478, 2621419, 2495445, 2489366, 2389611, 2324964, 2297141, 2260442, 2239540, 2235844, 2214675, 2212424, 2205395, 2190382, 2171377, 2116805, 2111895, 2090225, 2060377, 2017908, 2003494, 1970832, 1949317, 1948134, 1936799, 1927897, 1911155, 1907188, 1901295, 1871834, 1866880, 1856301, 1855332, 1850402, 1820170, 1800117, 1748978, 1683952, 1677814, 1646103, 1624758, 1579784, 1575681, 1541464, 1474120, 1448125, 1435476, 1433430, 1425755, 1409441, 1381325, 1362776, 1361245, 1359146, 1342268, 1331968, 1324891, 1302539, 1284733, 1276711, 1250069, 1231845, 1225927, 1219957, 1210522, 1195348, 1167120, 1155904, 1150436, 1105859, 1102361, 1094258, 1094246, 1083434, 1076352, 1061090, 1020718, 1006721, 1003903, 996760, 984782, 978965, 965667, 958751, 951870, 946359, 934116, 931446, 929649, 929461, 924941, 920847, 916128, 908165, 887831 ] 
},
"facet": null,
"size": "Beneficiaries",
"type": "point",
"tooltip": function(x){return x.Drug} 
} 
],
"facet": [],
"guides": [],
"coord": [],
"id": "chart77fc56fec34",
"title": "Medicare Drug Claims, 2013" 
}
  _.each($scope.chartParams.layers, function(el){
    el.data = polyjs.data(el.data)
  })
      
  $scope.controls = {
 "x": {
 "name": "x",
"value": "Claims",
"values": [ "Beneficiaries", "Claims", "Cost" ],
"label": "Select  x :" 
},
"y": {
 "name": "y",
"value": "Cost",
"values": [ "Beneficiaries", "Claims", "Cost" ],
"label": "Select  y :" 
},
"size": {
 "name": "size",
"value": "Beneficiaries",
"values": [ "Beneficiaries", "Claims", "Cost" ],
"label": "Select  size :" 
} 
}
  $scope.opts = $scope.chartParams.layers[0];
    
  $scope.drawChart = function(){
    $scope.chart = polyjs.chart($scope.chartParams)
	}

  $scope.updateChart = function(){
    $scope.chart.make($scope.chartParams)
	}
		
	$scope.$watch('opts', function(){
	  $scope.chartParams.layers[0] = $scope.opts;
	  $scope.updateChart();
	}, true)
}
</script>
    
  </body>
</html>
